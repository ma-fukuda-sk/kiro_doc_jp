# Hook Actions（フックアクション）

Kiro IDEのAgent Hooksで使用可能な2種類のアクション：「Agent Prompt action」と「Shell Command action」について説明します。

## Agent Prompt Action

hookがアクティブになったときにエージェントに送信される自然言語プロンプトを定義できます。エージェントはこれらのプロンプトを通常のチャット入力のように処理します。

### PromptSubmitトリガーの特別な動作

PromptSubmitトリガーでは、この機能は「Add to prompt」と呼ばれます。hookのプロンプトはユーザープロンプトに**追加**され、結合されたプロンプトがエージェントに送信されます。

## Shell Command Action

hookがトリガーされたときに実行するシェルコマンドを指定できます。

### 動作

- **成功時（終了コード0）**: コマンドのstdoutがエージェントのコンテキストに送信される
- **その他の終了コード**: stderrの出力が送信され、エージェントにエラーを通知

**注意**: このアクションは現在、PromptSubmitとAgentStopトリガーでのみ利用可能です。

## 使用ガイダンス

| アクションタイプ | 最適な用途 | 特徴 |
|----------------|-----------|------|
| **Agent Prompt** | コンテキスト認識が必要な自然言語指示 | エージェントループをトリガーするためクレジットを消費 |
| **Shell Command** | エージェント状態に依存しない確定的操作 | ローカルで実行、LLM関与なし、一般的に高速でクレジット不要 |
